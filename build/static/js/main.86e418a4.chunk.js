(this.webpackJsonpnct_ui=this.webpackJsonpnct_ui||[]).push([[0],{25:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(0),i=n.n(c),a=n(13),u=n.n(a),s=n(5),o=n.n(s),f=n(10),C=n(7),l=n(8),h=n(3),d=n(4),j=function(e,t){var n=Object(c.useRef)();Object(c.useEffect)((function(){n.current=e}),[e]),Object(c.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])};n(25);function b(){var e=Object(C.a)(["\n  color: #ffffff;\n  font-size: 1.5vw;\n"]);return b=function(){return e},e}function w(){var e=Object(C.a)(["\n  width: ",";\n  transform: rotate(","deg);\n  transition: 1s ease;\n  visibility: ","\n  > * {\n    width: 100%;\n    height: 100%;\n    transition: all 1s ease;\n  }\n"]);return w=function(){return e},e}function p(){var e=Object(C.a)(["\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: center;\n  align-items: center;\n  gap: ",";\n"]);return p=function(){return e},e}var v={hour:"numeric",minute:"numeric",timeZone:"Europe/London",hour12:!0},m=function(e){var t=new Date;return new Intl.DateTimeFormat("en-GB",e).format(t)},O=function(e){var t=e.busTime.number,n=e.busTime.destination,c=e.busTime.due,i=e.length-(t.length+n.length+c.length),a=" ".repeat(4),u=" ".repeat(i-a.length),s="".concat(t).concat(a).concat(n).concat(u).concat(c);return Object(r.jsx)(h.a,{className:"XL",chars:h.b.ALPHANUM,padMode:"start",length:e.length,value:s})},g=d.b.div((function(e){return Object(d.a)(p(),e.gap||"1rem")})),x=d.b.div((function(e){return Object(d.a)(w(),e.width||"100%",e.rotation||0,e.visible?"visible":"hidden")})),L=d.b.span((function(e){return Object(d.a)(b())})),M=function(e){return Object(r.jsxs)(g,{children:[Object(r.jsxs)(L,{children:[e.speed,"mph"]}),Object(r.jsx)(x,{width:e.width,rotation:e.bearing,children:Object(r.jsx)("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{d:"M8.35355 0.146447C8.15829 -0.0488155 7.84171 -0.0488155 7.64645 0.146447L4.46447 3.32843C4.2692 3.52369 4.2692 3.84027 4.46447 4.03553C4.65973 4.2308 4.97631 4.2308 5.17157 4.03553L8 1.20711L10.8284 4.03553C11.0237 4.2308 11.3403 4.2308 11.5355 4.03553C11.7308 3.84027 11.7308 3.52369 11.5355 3.32843L8.35355 0.146447ZM7.5 15.5C7.5 15.7761 7.72386 16 8 16C8.27614 16 8.5 15.7761 8.5 15.5H7.5ZM7.5 0.5V15.5H8.5V0.5H7.5Z",fill:"white"})})})]})},N=function(e){return Object(r.jsxs)(g,{children:[Object(r.jsxs)(L,{children:[e.temperature.toFixed(1),"\xb0C"]}),Object(r.jsx)(x,{visible:e.forecast.toLowerCase().includes("rain"),width:e.width,children:Object(r.jsx)("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 8.71682C10.7239 8.71682 10.5 8.48676 10.5 8.20297C10.5 7.87076 10.3772 7.65333 10.2106 7.51028C10.0327 7.35745 9.77648 7.26751 9.5 7.26751C9.22352 7.26751 8.96732 7.35745 8.78938 7.51028C8.62281 7.65333 8.5 7.87076 8.5 8.20297L8.5 8.31847C8.50002 11.2977 8.50003 12.8667 8.36919 13.7408C8.30092 14.1968 8.18711 14.549 7.95775 14.824C7.75006 15.073 7.48021 15.2112 7.25806 15.325L7.17452 15.3679L7.12127 15.3815C5.97885 15.6751 5.16475 15.3937 4.64645 14.861C4.16506 14.3663 4 13.7152 4 13.3415C4 13.0577 4.22386 12.8276 4.5 12.8276C4.77614 12.8276 5 13.0577 5 13.3415C5 13.4816 5.08494 13.8583 5.35355 14.1343C5.58052 14.3676 6.00343 14.5954 6.82672 14.3975C7.05939 14.2768 7.13984 14.2255 7.1985 14.1552C7.25039 14.093 7.32408 13.9635 7.38081 13.5845C7.49827 12.7999 7.5 11.3152 7.5 8.20398C7.5 7.87177 7.37719 7.65333 7.21062 7.51028C7.03268 7.35745 6.77648 7.26751 6.5 7.26751C6.22352 7.26751 5.96732 7.35745 5.78938 7.51028C5.62281 7.65333 5.5 7.87076 5.5 8.20297C5.5 8.48676 5.27614 8.71682 5 8.71682C4.72386 8.71682 4.5 8.48676 4.5 8.20297C4.5 7.88728 4.38129 7.66343 4.1859 7.49223C3.97661 7.30886 3.66243 7.17453 3.28274 7.11289C2.90662 7.05182 2.50092 7.06816 2.14213 7.15232C1.77607 7.23819 1.50463 7.38336 1.35355 7.53861C1.21055 7.68557 0.995495 7.72954 0.808658 7.65C0.621821 7.57047 0.5 7.3831 0.5 7.17527C0.5 4.9518 1.45524 3.26371 2.88463 2.14535C4.3001 1.03788 6.16243 0.5 8 0.5C9.83757 0.5 11.6999 1.03788 13.1154 2.14535C14.5448 3.26371 15.5 4.9518 15.5 7.17527C15.5 7.3831 15.3782 7.57047 15.1913 7.65C15.0045 7.72954 14.7894 7.68557 14.6464 7.53861C14.4954 7.38336 14.2239 7.23819 13.8579 7.15232C13.4991 7.06816 13.0934 7.05182 12.7173 7.11289C12.3376 7.17453 12.0234 7.30886 11.8141 7.49223C11.6187 7.66343 11.5 7.88728 11.5 8.20297C11.5 8.48676 11.2761 8.71682 11 8.71682ZM1.9196 6.15039C1.80124 6.17815 1.68321 6.21215 1.56757 6.2528C1.78314 4.8288 2.49895 3.73875 3.49037 2.96306C4.6999 2.01672 6.33757 1.5277 8 1.5277C9.66243 1.5277 11.3001 2.01672 12.5096 2.96306C13.5011 3.73875 14.2169 4.8288 14.4324 6.2528C14.3168 6.21215 14.1988 6.17815 14.0804 6.15039C13.599 6.03746 13.0648 6.01601 12.5612 6.09777C12.0612 6.17896 11.5557 6.36811 11.1653 6.71017C11.1086 6.75991 11.0546 6.81259 11.0038 6.86816C10.956 6.81637 10.9052 6.76751 10.8519 6.7217C10.4673 6.39142 9.97352 6.23981 9.5 6.23981C9.02648 6.23981 8.53268 6.39142 8.14812 6.7217C8.09619 6.76629 8.04674 6.81377 8 6.86403C7.95326 6.81377 7.90381 6.76629 7.85188 6.7217C7.46732 6.39142 6.97352 6.23981 6.5 6.23981C6.02648 6.23981 5.53268 6.39142 5.14812 6.7217C5.09477 6.76751 5.04404 6.81637 4.99617 6.86816C4.94538 6.81259 4.89144 6.75991 4.83468 6.71017C4.44428 6.36811 3.93884 6.17896 3.43879 6.09777C2.93517 6.01601 2.40099 6.03746 1.9196 6.15039Z",fill:"white"})})})]})},T=function(){var e=Object(f.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(window.location.origin,"/times/").concat(t)).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(window.location.origin,"/weather/").concat(t)).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=new URL(window.location).searchParams.get("stop"),t=c.useState({buses:[]}),n=Object(l.a)(t,2),i=n[0],a=n[1],u=c.useState(m(v)),s=Object(l.a)(u,2),o=s[0],f=s[1],C=c.useState({}),d=Object(l.a)(C,2),b=d[0],w=d[1];return c.useEffect((function(){T(e).then((function(e){return a(e)})),y(e).then((function(e){return w(e)}))}),[]),j((function(){T(e).then((function(e){return a(e)}))}),15e3),j((function(){y(e).then((function(e){return w(e)}))}),18e5),j((function(){f(m(v))}),1e3),e?Object(r.jsxs)("main",{children:[Object(r.jsx)(h.a,{className:"M",chars:h.b.ALPHANUM,padMode:"start",length:8,value:o}),Object(r.jsx)("div",{className:"times",children:i.buses.map((function(e){return Object(r.jsx)(O,{length:40,busTime:e})}))}),Object(r.jsxs)(g,{className:"weather",gap:"5vw",children:[Object(r.jsx)(M,{speed:b.windSpeed||0,bearing:b.windBearing||0,width:"2.5vw"}),Object(r.jsx)(N,{forecast:b.forecast||"",temperature:b.temperature||0,width:"2.5vw"})]})]}):Object(r.jsx)("main",{children:Object(r.jsx)(h.a,{className:"XL",chars:h.b.ALPHANUM,length:50,value:"No stop provided"})})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};u.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(A,{})}),document.getElementById("root")),B()}},[[28,1,2]]]);
//# sourceMappingURL=main.86e418a4.chunk.js.map